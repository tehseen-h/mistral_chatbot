<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mistral AI</title>
  <link rel="stylesheet" href="css/styles.css" />
  <!-- Markdown rendering -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <!-- Syntax highlighting -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css" id="hljs-theme" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet" />
  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>
<body>
  <!-- ─── Animated background ───────────────────────────── -->
  <div class="bg-mesh" aria-hidden="true">
    <div class="mesh-gradient mesh-1"></div>
    <div class="mesh-gradient mesh-2"></div>
    <div class="mesh-gradient mesh-3"></div>
  </div>

  <!-- ─── Sidebar ──────────────────────────────────────── -->
  <aside class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <div class="logo">
        <div class="logo-icon">
          <i data-lucide="sparkles"></i>
        </div>
        <span>Mistral</span>
      </div>
      <button class="btn-icon glass-btn" id="newChatBtn" title="New Chat">
        <i data-lucide="plus"></i>
      </button>
    </div>

    <div class="sidebar-search">
      <i data-lucide="search" class="search-icon"></i>
      <input type="text" placeholder="Search conversations…" id="searchInput" />
    </div>

    <div class="session-list" id="sessionList">
      <!-- populated by JS -->
    </div>

    <div class="sidebar-footer">
      <button class="btn-icon glass-btn" id="themeToggle" title="Toggle theme">
        <i data-lucide="sun" class="icon-sun"></i>
        <i data-lucide="moon" class="icon-moon"></i>
      </button>
      <span class="footer-label">Powered by Mistral AI</span>
    </div>
  </aside>

  <!-- ─── Mobile overlay ───────────────────────────────── -->
  <div class="sidebar-overlay" id="sidebarOverlay"></div>

  <!-- ─── Main Chat Area ───────────────────────────────── -->
  <main class="chat-main">
    <!-- Top bar -->
    <header class="chat-header">
      <button class="btn-icon glass-btn mobile-menu" id="menuBtn" title="Menu">
        <i data-lucide="menu"></i>
      </button>
      <div class="header-center">
        <div class="model-badge">
          <div class="model-dot"></div>
          <span>Mistral Large</span>
        </div>
        <h1 class="chat-title" id="chatTitle">New Chat</h1>
      </div>
      <button class="btn-icon glass-btn" id="deleteChatBtn" title="Delete chat">
        <i data-lucide="trash-2"></i>
      </button>
    </header>

    <!-- Messages -->
    <div class="chat-messages" id="chatMessages">
      <div class="welcome" id="welcomeScreen">
        <div class="welcome-glow"></div>
        <div class="welcome-icon">
          <i data-lucide="sparkles"></i>
        </div>
        <h2>Hello, how can I help?</h2>
        <p>I'm Mistral, a powerful AI assistant. Ask me anything — from coding to creative writing.</p>
        <div class="suggestions">
          <button class="suggestion" onclick="useSuggestion(this)" data-text="Explain quantum computing in simple terms anyone can understand">
            <i data-lucide="atom"></i>
            <div>
              <strong>Explain quantum computing</strong>
              <span>in simple terms anyone can understand</span>
            </div>
          </button>
          <button class="suggestion" onclick="useSuggestion(this)" data-text="Write a Python function to sort a list efficiently">
            <i data-lucide="code-2"></i>
            <div>
              <strong>Write a Python function</strong>
              <span>to sort a list efficiently</span>
            </div>
          </button>
          <button class="suggestion" onclick="useSuggestion(this)" data-text="What are the best practices for REST API design?">
            <i data-lucide="server"></i>
            <div>
              <strong>REST API best practices</strong>
              <span>design patterns and conventions</span>
            </div>
          </button>
          <button class="suggestion" onclick="useSuggestion(this)" data-text="Help me debug a JavaScript async issue with promises">
            <i data-lucide="bug"></i>
            <div>
              <strong>Debug JavaScript async</strong>
              <span>help me fix promise and await issues</span>
            </div>
          </button>
        </div>
      </div>
    </div>

    <!-- Input area (floating) -->
    <div class="chat-input-wrapper">
      <div class="file-preview-bar hidden" id="filePreviewBar"></div>

      <form class="chat-input-form" id="chatForm">
        <div class="input-container">
          <input type="file" id="fileInput" class="hidden" multiple
            accept=".txt,.py,.js,.ts,.jsx,.tsx,.html,.css,.json,.xml,.yaml,.yml,.md,.csv,.log,.sh,.sql,.java,.c,.cpp,.h,.cs,.go,.rs,.php,.rb,.swift,.kt,.scala,.toml,.vue,.svelte,.dart,.lua,.png,.jpg,.jpeg,.gif,.webp,.bmp,.pdf" />
          <button type="button" class="attach-btn" id="attachBtn" title="Attach file (max 100 MB)">
            <i data-lucide="paperclip"></i>
          </button>
          <textarea
            id="messageInput"
            placeholder="Ask me anything…"
            rows="1"
            autofocus
          ></textarea>
          <button type="submit" class="send-btn" id="sendBtn" disabled title="Send message">
            <i data-lucide="arrow-up"></i>
          </button>
        </div>
        <p class="input-hint"><kbd>Enter</kbd> to send · <kbd>Shift+Enter</kbd> for new line</p>
      </form>
    </div>
  </main>

  <script src="js/app.js"></script>
  <script>lucide.createIcons();</script>
</body>
</html>
